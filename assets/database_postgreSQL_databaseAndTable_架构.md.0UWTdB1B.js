import{_ as e,c as s,o as i,b3 as t}from"./chunks/framework.CatkIGlB.js";const k=JSON.parse('{"title":"PostgreSQL 架构","description":"","frontmatter":{},"headers":[],"relativePath":"database/postgreSQL/databaseAndTable/架构.md","filePath":"database/postgreSQL/databaseAndTable/架构.md","lastUpdated":1689061386000}'),l={name:"database/postgreSQL/databaseAndTable/架构.md"};function n(p,a,h,o,d,c){return i(),s("div",null,[...a[0]||(a[0]=[t(`<h1 id="postgresql-架构" tabindex="-1">PostgreSQL 架构 <a class="header-anchor" href="#postgresql-架构" aria-label="Permalink to &quot;PostgreSQL 架构&quot;">​</a></h1><p>本文讨论 PostgreSQL 架构的基本用法，包括创建架构、修改架构、删除架构。</p><p>PostgreSQL 允许您在一个数据库中创建多个架构 Schema。Schema 相当于一个组，您可以根据自己的需要将不同的表放在不同的 Schema 下。</p><h2 id="postgresql-创建架构" tabindex="-1">PostgreSQL 创建架构 <a class="header-anchor" href="#postgresql-创建架构" aria-label="Permalink to &quot;PostgreSQL 创建架构&quot;">​</a></h2><p>要在当前数据库中创建新的架构，您必须在当前数据库中具有 <code>CREATE</code> 权限。请按照如下语法使用 <code>CREATE SCHEMA</code> 语句：</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes material-theme-lighter material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">CREATE</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> SCHEMA</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;"> [IF NOT EXISTS] schema_name</span></span>
<span class="line"><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">[AUTHORIZATION role_name];</span></span></code></pre></div><p>说明：</p><ul><li><code>CREATE SCHEMA</code> 语句用于在当前数据库中创建一个新的架构。</li><li><code>schema_name</code> 是架构的名称。它在同一个数据库中应该是唯一的。</li><li><code>IF NOT EXISTS</code> 是可选的。它只是只有在指定的架构名称不存在时才创建新的架构。如果不使用此选项且指定的架构存在， PostgreSQL 将给出一个错误。</li><li><code>AUTHORIZATION role_name</code> 子句用于为指定的角色/用户创建架构。</li></ul><p>要在架构中<a href="./创建表.html">创建一个表</a>，请使用 <code>CREATE TABLE</code> 语句，表名采用 <code>schema_name.table_name</code> 的格式，如下：</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes material-theme-lighter material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">CREATE</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> TABLE</span><span style="--shiki-light:#6182B8;--shiki-dark:#82AAFF;"> schema_name</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">.table_name</span></span>
<span class="line"><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">(...)</span></span></code></pre></div><p>如果您省略了架构名 <code>schema_name</code>，则使用默认的架构 <code>publish</code>。</p><p>如果要使用架构中的表，表名采用 <code>schema_name.table_name</code> 的格式，如下：</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes material-theme-lighter material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">SELECT</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> *</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> FROM</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;"> schema_name.table_name;</span></span></code></pre></div><h2 id="postgresql-重命名架构" tabindex="-1">PostgreSQL 重命名架构 <a class="header-anchor" href="#postgresql-重命名架构" aria-label="Permalink to &quot;PostgreSQL 重命名架构&quot;">​</a></h2><p>如果要重命名现有的架构，请使用 <code>ALTER SCHEMA</code> 语句，如下:</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes material-theme-lighter material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">ALTER</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> SCHEMA</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;"> schema_name</span></span>
<span class="line"><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">RENAME </span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">TO</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;"> new_name;</span></span></code></pre></div><p>说明：</p><ul><li><code>schema_name</code> 是架构的名字</li><li><code>new_name</code> 是架构的新名字</li></ul><h2 id="postgresql-修改架构所有者" tabindex="-1">PostgreSQL 修改架构所有者 <a class="header-anchor" href="#postgresql-修改架构所有者" aria-label="Permalink to &quot;PostgreSQL 修改架构所有者&quot;">​</a></h2><p>如果要修改一个架构的所有人，请使用 <code>ALTER SCHEMA</code> 语句，如下:</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes material-theme-lighter material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">ALTER</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> SCHEMA</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;"> schema_name</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">OWNER</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> TO</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;"> { new_owner | CURRENT_USER | SESSION_USER};</span></span></code></pre></div><p>说明：</p><ul><li><code>schema_name</code> 是架构的名字</li><li><code>new_owner</code> 是架构的新的所有者/角色</li></ul><h2 id="postgresql-删除架构" tabindex="-1">PostgreSQL 删除架构 <a class="header-anchor" href="#postgresql-删除架构" aria-label="Permalink to &quot;PostgreSQL 删除架构&quot;">​</a></h2><p>如果要删除一个架构，请使用 <code>DROP SCHEMA</code> 语句，如下:</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes material-theme-lighter material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">DROP</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> SCHEMA</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;"> [IF EXISTS] schema_name</span></span>
<span class="line"><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">[ CASCADE | RESTRICT ];</span></span></code></pre></div><p>说明：</p><ul><li><code>schema_name</code> 是架构的名字</li><li><code>IF EXISTS</code> 是可选的，它指示只有在指定的架构存在时才进行删除，如果不存在，不返回错误。</li><li><code>RESTRICT</code> 指示只有在架构为空的时候才能删除，它是默认的。 <code>CASCADE</code> 指示删除架构和其中的对象，以及对象依赖的对象。</li></ul><h2 id="结论" tabindex="-1">结论 <a class="header-anchor" href="#结论" aria-label="Permalink to &quot;结论&quot;">​</a></h2><p>本文讨论了 PostgreSQL 架构的基本用法，包括创建架构、修改架构、和删除架构。</p>`,30)])])}const m=e(l,[["render",n]]);export{k as __pageData,m as default};
