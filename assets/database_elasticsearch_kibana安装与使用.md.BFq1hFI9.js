import{_ as i,c as a,o as t,b3 as n}from"./chunks/framework.CatkIGlB.js";const l="/assets/image-20220927172231921.v8IOjCWq.png",e="/assets/image-20220927172308814._5ieR8VR.png",h="/assets/image-20220927172516835.6KZ6ts6f.png",p="/assets/image-20220927173724710.CM5_weJT.png",k="/assets/image-20220927212332244.DwD2lNxE.png",r="/assets/image-20220927212513903.CDUI-19c.png",m=JSON.parse('{"title":"Kibana 安装&使用","description":"","frontmatter":{},"headers":[],"relativePath":"database/elasticsearch/kibana安装与使用.md","filePath":"database/elasticsearch/kibana安装与使用.md","lastUpdated":1688630446000}'),c={name:"database/elasticsearch/kibana安装与使用.md"};function d(o,s,g,y,D,B){return t(),a("div",null,[...s[0]||(s[0]=[n('<h1 id="kibana-安装-使用" tabindex="-1">Kibana 安装&amp;使用 <a class="header-anchor" href="#kibana-安装-使用" aria-label="Permalink to &quot;Kibana 安装&amp;使用&quot;">​</a></h1><p>本章是根据尚硅谷教学视频编写 [<a href="https://www.bilibili.com/video/BV1hh411D7sb/?spm%5C_id%5C_from=333.337.search-card.all.click%5C&amp;vd%5C_source=c2c3977953334eb68fd28f89418ceaa6" target="_blank" rel="noreferrer">https://www.bilibili.com/video/BV1hh411D7sb/?spm\\_id\\_from=333.337.search-card.all.click\\&amp;vd\\_source=c2c3977953334eb68fd28f89418ceaa6</a>](</p><p>Elasticsearch 的开源分析可视化工具，与存储在 Elasticsearch 中的数据进行交互</p><img src="'+l+'" alt="image-20220927172231921"><h2 id="下载软件" tabindex="-1">下载软件 <a class="header-anchor" href="#下载软件" aria-label="Permalink to &quot;下载软件&quot;">​</a></h2><p>Elasticsearch 下载的版本是 8.1.0，这里我们选择同样的 8.1.0 版本</p><p>下载地址：<a href="https://www.elastic.co/cn/downloads/past-releases#kibana" target="_blank" rel="noreferrer">https://www.elastic.co/cn/downloads/past-releases#kibana</a></p><img src="'+e+`" alt="image-20220927172308814" style="zoom:100%;"><h2 id="安装软件" tabindex="-1">安装软件 <a class="header-anchor" href="#安装软件" aria-label="Permalink to &quot;安装软件&quot;">​</a></h2><p>本课程着重讲解新版 ES 软件的特性及应用，所以对应的 Kibana 也采用 linux 集群配置。</p><ol><li><p>将压缩包 kibana-8.1.0-linux-x86_64.tar.gz 上传到虚拟机中</p><p>解压缩文件到自定义路径，笔者解压路径为：/opt/module，解压后，软件路径为：/opt/module/kibana-8.1.0</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes material-theme-lighter material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic;"># 切换目录</span></span>
<span class="line"><span style="--shiki-light:#6182B8;--shiki-dark:#82AAFF;">cd</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> software</span></span>
<span class="line"><span style="--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic;"># 解压缩</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">tar</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> -zxvf</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> kibana-8.1.0-linux-x86_64.tar.gz</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> -C</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> /opt/module</span></span></code></pre></div><p>解压后的 kibana 的目录结构如下：</p><img src="`+h+`" alt="image-20220927172516835"></li><li><p>给 Kibana 生成证书文件</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes material-theme-lighter material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic;"># 在 ES 服务器中生成证书，输入回车即可</span></span>
<span class="line"><span style="--shiki-light:#6182B8;--shiki-dark:#82AAFF;">cd</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> /opt/module/elasticsearch-8.1.0</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">bin/elasticsearch-certutil</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> csr</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> -name</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> kibana</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> -dns</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> linux1</span></span>
<span class="line"><span style="--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic;"># 解压文件</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">unzip</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> csr-bundle.zip</span></span>
<span class="line"><span style="--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic;"># 将解压后的文件移动到 kibana 的 config 目录中</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">mv</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> kibana.csr</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> kibana.key</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> /opt/module/kibana-8.1.0/config/</span></span>
<span class="line"><span style="--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic;"># 生成 crt 文件</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">openssl</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> x509</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> -req</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> -in</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> kibana.csr</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> -signkey</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> kibana.key</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> -out</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> kibana.crt</span></span></code></pre></div></li><li><p>修改配置文件：kibana.yml</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes material-theme-lighter material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic;"># 服务端口</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">server.port:</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> 5601</span></span>
<span class="line"><span style="--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic;"># 服务主机名</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">server.host:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">linux1</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic;"># 国际化 - 中文</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">i18n.locale:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">zh-CN</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic;"># ES 服务主机地址</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">elasticsearch.hosts:</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;"> [</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">https://linux1:9200</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">]</span></span>
<span class="line"><span style="--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic;"># 访问 ES 服务的账号密码</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">elasticsearch.username:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">kibana</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">elasticsearch.password:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">fnqIYLQGv81iyW5nWeZ-</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">elasticsearch.ssl.verificationMode:</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> none</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">elasticsearch.ssl.certificateAuthorities:</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">[</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">/opt/module/elasticsearch-8.1.0/config/certs/elasticsearch-ca.pem</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> ]</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">server.ssl.enabled:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> true</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">server.ssl.certificate:</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> /opt/module/kibana-8.1.0/config/kibana.crt</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">server.ssl.key:</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> /opt/module/kibana-8.1.0/config/kibana.key</span></span></code></pre></div></li><li><p>修改软件目录拥有者</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes material-theme-lighter material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic;"># 切换目录</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">chown</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> -R</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> es:es</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> /opt/module/kibana-8.1.0/</span></span></code></pre></div></li><li><p>切换用户，启动软件</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes material-theme-lighter material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic;"># 切换用户</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">su</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> es</span></span>
<span class="line"><span style="--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic;"># 启动软件</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">bin/kibana</span></span>
<span class="line"><span style="--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic;"># 也可以后台启动</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">nohup</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> /opt/module/kibana-8.1.0/bin/kibana</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> &gt;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">kibana.log</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> 2&gt;&amp;1</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> &amp;</span></span></code></pre></div><img src="`+p+'" alt="image-20220927173724710"></li><li><p>打开浏览器，输入访问地址：<u><a href="https://linux1:5601" target="_blank" rel="noreferrer">https://linux1:5601</a></u></p></li></ol><img src="'+k+'" alt="image-20220927212332244"><p>输入 elastic 账号和密码即可访问</p><img src="'+r+'" alt="image-20220927212513903">',14)])])}const b=i(c,[["render",d]]);export{m as __pageData,b as default};
