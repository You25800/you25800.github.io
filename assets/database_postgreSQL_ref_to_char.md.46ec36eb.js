import{_ as t,o as d,c as o,R as e}from"./chunks/framework.318fa179.js";const D=JSON.parse('{"title":"PostgreSQL to_char() 函数","description":"","frontmatter":{},"headers":[],"relativePath":"database/postgreSQL/ref/to_char.md","filePath":"database/postgreSQL/ref/to_char.md","lastUpdated":1689930032000}'),a={name:"database/postgreSQL/ref/to_char.md"},s=e(`<h1 id="postgresql-to-char-函数" tabindex="-1">PostgreSQL to_char() 函数 <a class="header-anchor" href="#postgresql-to-char-函数" aria-label="Permalink to &quot;PostgreSQL to\\_char() 函数&quot;">​</a></h1><p>PostgreSQL <code>to_char()</code> 函数根据指定的格式将时间戳值、间隔值、数字值转为字符串并返回结果。</p><h2 id="to-char-语法" tabindex="-1"><code>to_char()</code> 语法 <a class="header-anchor" href="#to-char-语法" aria-label="Permalink to &quot;\`to_char()\` 语法&quot;">​</a></h2><p>这是 PostgreSQL <code>to_char ()</code> 函数的语法：</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">to_char(</span><span style="color:#F78C6C;">value</span><span style="color:#A6ACCD;">, format </span><span style="color:#C792EA;">TEXT</span><span style="color:#A6ACCD;">) </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">TEXT</span></span></code></pre></div><h3 id="参数" tabindex="-1">参数 <a class="header-anchor" href="#参数" aria-label="Permalink to &quot;参数&quot;">​</a></h3><ul><li><p><em><code>value</code></em></p><p>必需的。 一个要格式化输出为字符串的值。它可用于 <code>TIMESTAMP</code>, <code>TIMESTAMPTZ</code>, <code>INTERVAL</code>, <code>INTEGER</code>, <code>BIGINT</code>, <code>NUMERIC</code>, <code>REAL</code>, <code>DOUBLE</code> 等类型的值。</p></li><li><p><em><code>format</code></em></p><p>必需的。 转换这个值所采用的模板。模板由一些占位符和修饰符组成。占位符定义了输出字符串的格式，修饰符则对模板的行为做出一些改变。</p></li></ul><h3 id="日期-时间格式模板" tabindex="-1">日期/时间格式模板 <a class="header-anchor" href="#日期-时间格式模板" aria-label="Permalink to &quot;日期/时间格式模板&quot;">​</a></h3><p>您可以使用下表中的模板模式来构造日期/时间的格式模板。</p><table><thead><tr><th>模式</th><th>描述</th></tr></thead><tbody><tr><td><code>HH</code></td><td>一天中的小时 （01–12）</td></tr><tr><td><code>HH12</code></td><td>一天中的小时 （01–12）</td></tr><tr><td><code>HH24</code></td><td>一天中的小时 （00–23）</td></tr><tr><td><code>MI</code></td><td>分钟 （00–59）</td></tr><tr><td><code>SS</code></td><td>秒 （00–59）</td></tr><tr><td><code>MS</code></td><td>毫秒 （000–999）</td></tr><tr><td><code>US</code></td><td>微秒（000000–999999）</td></tr><tr><td><code>FF1</code></td><td>十分之一秒 （0–9）</td></tr><tr><td><code>FF2</code></td><td>百分之一秒 （00–99）</td></tr><tr><td><code>FF3</code></td><td>毫秒 （000–999）</td></tr><tr><td><code>FF4</code></td><td>十分之一毫秒 （0000–9999）</td></tr><tr><td><code>FF5</code></td><td>百分之一毫秒 （00000–99999）</td></tr><tr><td><code>FF6</code></td><td>微秒（000000–999999）</td></tr><tr><td><code>SSSS</code>, <code>SSSSS</code></td><td>午夜过后几秒钟 （0–86399）</td></tr><tr><td><code>AM</code>, <code>am</code>, <code>PM</code>, <code>pm</code></td><td>上午、下午（无句点）</td></tr><tr><td><code>A.M.</code>, <code>a.m.</code>, <code>P.M.</code>, <code>p.m.</code></td><td>上午、下午（带句点）</td></tr><tr><td><code>Y,YYY</code></td><td>年份（4 位或更多位数字），带逗号</td></tr><tr><td><code>YYYY</code></td><td>年份（4 位或更多数字）</td></tr><tr><td><code>YYY</code></td><td>年份的最后 3 位数字</td></tr><tr><td><code>YY</code></td><td>年份的最后 2 位数字</td></tr><tr><td><code>Y</code></td><td>年份的最后一位数字</td></tr><tr><td><code>IYYY</code></td><td>ISO 8601 周编号年份（4 位或更多位）</td></tr><tr><td><code>IYY</code></td><td>ISO 8601 周编号年份的最后 3 位数字</td></tr><tr><td><code>IY</code></td><td>ISO 8601 周编号年份的最后 2 位数字</td></tr><tr><td><code>I</code></td><td>ISO 8601 周编号年份的最后一位数字</td></tr><tr><td><code>BC</code>, <code>bc</code>, <code>AD</code>, <code>ad</code></td><td>公元前、公元后（无句点）</td></tr><tr><td><code>B.C.</code>, <code>b.c.</code>, <code>A.D.</code>, <code>a.d.</code></td><td>公元前、公元后（带句点）</td></tr><tr><td><code>MONTH</code></td><td>全大写月份名称（空白填充为 9 个字符）</td></tr><tr><td><code>Month</code></td><td>全大写月份名称（空白填充为 9 个字符）</td></tr><tr><td><code>month</code></td><td>全小写月份名称（空白填充为 9 个字符）</td></tr><tr><td><code>MON</code></td><td>缩写大写月份名称（英文 3 个字符，本地化长度各不相同）</td></tr><tr><td><code>Mon</code></td><td>缩写大写月份名称（英文 3 个字符，本地化长度不同）</td></tr><tr><td><code>mon</code></td><td>缩写小写月份名称（英文 3 个字符，本地化长度不同）</td></tr><tr><td><code>MM</code></td><td>月数 （01–12）</td></tr><tr><td><code>DAY</code></td><td>全大写的日期名称（空白填充为 9 个字符）</td></tr><tr><td><code>Day</code></td><td>全大写的日期名称（空白填充为 9 个字符）</td></tr><tr><td><code>day</code></td><td>全小写的日期名称（空白填充为 9 个字符）</td></tr><tr><td><code>DY</code></td><td>缩写的大写的日期名称（3 个英文字符，本地化长度各不相同）</td></tr><tr><td><code>Dy</code></td><td>缩写的大写的日期名称（3 个英文字符，本地化长度各不相同）</td></tr><tr><td><code>dy</code></td><td>缩写的小写的日期名称（3 个英文字符，本地化长度各不相同）</td></tr><tr><td><code>DDD</code></td><td>一年中的一天 （001–366）</td></tr><tr><td><code>IDDD</code></td><td>ISO 8601 周编号年份的一天（001–371;一年中的第 1 天是第一个 ISO 周的星期一）</td></tr><tr><td><code>DD</code></td><td>月中的某一天 （01–31）</td></tr><tr><td><code>D</code></td><td>星期几，星期日 （<code>1</code>） 到星期六 （<code>7</code>)</td></tr><tr><td><code>ID</code></td><td>ISO 8601 星期几，星期一 （<code>1</code>） 到星期日 （<code>7</code>)</td></tr><tr><td><code>W</code></td><td>每月的一周 （1–5） （第一周从该月的第一天开始）</td></tr><tr><td><code>WW</code></td><td>一年中的周数 （1–53） （第一周从一年的第一天开始）</td></tr><tr><td><code>IW</code></td><td>ISO 8601 周编号年份的周号（01–53;一年中的第一个星期四在第 1 周）</td></tr><tr><td><code>CC</code></td><td>世纪（2 位数字）（二十一世纪开始于 2001-01-01）</td></tr><tr><td><code>J</code></td><td>儒略历日期（自公元前 4714 年 11 月 24 日当地午夜以来的整数天)</td></tr><tr><td><code>Q</code></td><td>季度</td></tr><tr><td><code>RM</code></td><td>大写罗马数字形式的月份（I 到 XII; I 是 1 月）</td></tr><tr><td><code>rm</code></td><td>小写罗马数字形式的月份 （i 到 xii; i 是 1 月）</td></tr><tr><td><code>TZ</code></td><td>大写时区缩写（仅 <code>to_char</code> 支持)</td></tr><tr><td><code>tz</code></td><td>小写时区缩写（仅 <code>to_char</code> 支持)</td></tr><tr><td><code>TZH</code></td><td>时区小时</td></tr><tr><td><code>TZM</code></td><td>时区分钟</td></tr><tr><td><code>OF</code></td><td>时区与 UTC 的偏移量（仅 <code>to_char</code> 支持)</td></tr></tbody></table><p>您可以将下表中的修饰符用于日期/时间模板模式。</p><table><thead><tr><th>修饰符</th><th>描述</th></tr></thead><tbody><tr><td><code>FM</code> 前缀</td><td>填充模式（抑制前导零和填充空白）</td></tr><tr><td><code>TH</code> 后缀</td><td>序号后缀（大写）</td></tr><tr><td><code>th</code> 后缀</td><td>序号后缀 （小写）</td></tr><tr><td><code>FX</code> 前缀</td><td>固定格式全局选项（请参阅用法说明）</td></tr><tr><td><code>TM</code> 前缀</td><td>翻译模式（根据 lc_time 使用本地化的日和月名称)</td></tr></tbody></table><h3 id="数字格式模板" tabindex="-1">数字格式模板 <a class="header-anchor" href="#数字格式模板" aria-label="Permalink to &quot;数字格式模板&quot;">​</a></h3><p>您可以使用下表中的模板模式来构造数字格式字符串。</p><table><thead><tr><th>模式</th><th>描述</th></tr></thead><tbody><tr><td><code>9</code></td><td>数字位置（如果无关紧要，可以丢弃）</td></tr><tr><td><code>0</code></td><td>数字位置（不会被删除，即使无关紧要）</td></tr><tr><td><code>.</code></td><td>小数点</td></tr><tr><td><code>,</code></td><td>组（千）分隔符</td></tr><tr><td><code>PR</code></td><td>尖括号中的负值</td></tr><tr><td><code>S</code></td><td>符号（使用区域设置）</td></tr><tr><td><code>L</code></td><td>货币符号（使用区域设置）</td></tr><tr><td><code>D</code></td><td>小数点（使用区域设置）</td></tr><tr><td><code>G</code></td><td>组分隔符（使用区域设置）</td></tr><tr><td><code>MI</code></td><td>指定位置的减号（如果数字 &lt; 0）</td></tr><tr><td><code>PL</code></td><td>在指定位置加号（如果数字 &gt; 0）</td></tr><tr><td><code>SG</code></td><td>指定位置的加号/减号</td></tr><tr><td><code>RN</code></td><td>罗马数字（ 介于 1 和 3999 之间）</td></tr><tr><td><code>TH</code>, <code>th</code></td><td>序号后缀</td></tr><tr><td><code>V</code></td><td>移位指定的位数</td></tr><tr><td><code>EEEE</code></td><td>科学记数法的指数</td></tr></tbody></table><p>您可以将下表中的修饰符用于数字格式字符串中。</p><table><thead><tr><th>修饰符</th><th>描述</th><th>例</th></tr></thead><tbody><tr><td><code>FM</code> 前缀</td><td>填充模式（抑制前导零和填充空白）</td><td><code>FM99.99</code></td></tr><tr><td><code>TH</code> 后缀</td><td>序号后缀（大写）</td><td><code>999TH</code></td></tr><tr><td><code>th</code> 后缀</td><td>序号后缀（小写）</td><td><code>999th</code></td></tr></tbody></table><h3 id="返回值" tabindex="-1">返回值 <a class="header-anchor" href="#返回值" aria-label="Permalink to &quot;返回值&quot;">​</a></h3><p>PostgreSQL <code>to_char()</code> 函数返回一个字符串，它由指定的时间戳、间隔、或数字根据指定的格式转换而来。</p><h2 id="to-char-示例" tabindex="-1"><code>to_char()</code> 示例 <a class="header-anchor" href="#to-char-示例" aria-label="Permalink to &quot;\`to_char()\` 示例&quot;">​</a></h2><p>本示例展示了如何使用 PostgreSQL <code>to_char()</code> 函数按照指定的格式输出一个时间戳值。</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> to_char(</span><span style="color:#C792EA;">timestamp</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">2022-05-17 17:31:12.112</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">YYYY/MM/DD HH12:MI:SS</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">);</span></span></code></pre></div><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">to_char</span></span>
<span class="line"><span style="color:#FFCB6B;">---------------------</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">2022/05/17</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">05</span><span style="color:#C3E88D;">:31:12</span></span></code></pre></div><p>本示例展示了如何使用 PostgreSQL <code>to_char()</code> 函数按照指定的格式输出一个日期值。</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> to_char(</span><span style="color:#C792EA;">date</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">2022-05-17</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">YYYY/MM/DD</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">);</span></span></code></pre></div><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">to_char</span></span>
<span class="line"><span style="color:#FFCB6B;">------------</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">2022/05/17</span></span></code></pre></div><p>本示例展示了如何使用 PostgreSQL <code>to_char()</code> 函数按照指定的格式输出一个间隔值。</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> to_char(interval </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">20 hours 20 minutes</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">HH24:MI:SS</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">);</span></span></code></pre></div><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">to_char</span></span>
<span class="line"><span style="color:#FFCB6B;">----------</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">20:20:00</span></span></code></pre></div><p>本示例展示了如何使用 PostgreSQL <code>to_char()</code> 函数按照指定的格式输出一个数字。</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> to_char(</span><span style="color:#F78C6C;">12345678</span><span style="color:#A6ACCD;">.</span><span style="color:#F78C6C;">9</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">999G999G999G999G999.900</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">);</span></span></code></pre></div><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">to_char</span></span>
<span class="line"><span style="color:#FFCB6B;">--------------------------</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#FFCB6B;">12,345,678.900</span></span></code></pre></div><p>因为，格式化字符串比数字长，因此，在输出的字符串的左侧添加了一些空格。如果您不需要这些前导空格，那你可以使用 <code>FM</code> 修饰符，比如：</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> to_char(</span><span style="color:#F78C6C;">12345678</span><span style="color:#A6ACCD;">.</span><span style="color:#F78C6C;">9</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">FM999G999G999G999G999.900</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">);</span></span></code></pre></div><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">to_char</span></span>
<span class="line"><span style="color:#FFCB6B;">----------------</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">12,345,678.900</span></span></code></pre></div>`,35),c=[s];function r(l,n,p,h,i,C){return d(),o("div",null,c)}const F=t(a,[["render",r]]);export{D as __pageData,F as default};
