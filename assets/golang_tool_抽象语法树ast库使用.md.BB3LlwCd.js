import{_ as k,B as n,c as l,o as t,j as i,b3 as p,a,G as D}from"./chunks/framework.CatkIGlB.js";const E=JSON.parse('{"title":"抽象语法树 go/ast 库使用","description":"","frontmatter":{},"headers":[],"relativePath":"golang/tool/抽象语法树ast库使用.md","filePath":"golang/tool/抽象语法树ast库使用.md","lastUpdated":1684585042000}'),F={name:"golang/tool/抽象语法树ast库使用.md"};function e(A,s,r,d,g,B){const h=n("Badge");return t(),l("div",null,[s[3]||(s[3]=i("h1",{id:"抽象语法树-go-ast-库使用",tabindex:"-1"},[a("抽象语法树 go/ast 库使用 "),i("a",{class:"header-anchor",href:"#抽象语法树-go-ast-库使用","aria-label":'Permalink to "抽象语法树 go/ast 库使用"'},"​")],-1)),s[4]||(s[4]=i("h2",{id:"推荐背景",tabindex:"-1"},[a("推荐背景 "),i("a",{class:"header-anchor",href:"#推荐背景","aria-label":'Permalink to "推荐背景"'},"​")],-1)),s[5]||(s[5]=i("p",null,"Go 语言在编译过程中经过词法分析和语法分析之后，就到了抽象语法树的构建阶段，经历这一阶段之后，语句就真正组织成了程序代码。利用抽象语法树解析库，我们可以完成代码的自动化分析和自动化生成，因此通常用于做一些自动化的工具，例如 wire。",-1)),i("p",null,[s[0]||(s[0]=a("这是默认主题内置的 ",-1)),s[1]||(s[1]=i("code",null,"<Badge />",-1)),s[2]||(s[2]=a(" 组件 ",-1)),D(h,{text:"演示"})]),s[6]||(s[6]=p(`<h2 id="使用案例" tabindex="-1">使用案例 <a class="header-anchor" href="#使用案例" aria-label="Permalink to &quot;使用案例&quot;">​</a></h2><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes material-theme-lighter material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">package</span><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;"> main</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic;">import</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> (</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">    &quot;</span><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">go/ast</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">    &quot;</span><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">go/parser</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">    &quot;</span><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">go/token</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">)</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">var</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  src </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> \`</span></span>
<span class="line"><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">	package main</span></span>
<span class="line"><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">	import &quot;fmt&quot;</span></span>
<span class="line"><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">	func main() {</span></span>
<span class="line"><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">    	fmt.Println(&quot;Hello, World!&quot;)</span></span>
<span class="line"><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">	}</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">\`</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">func</span><span style="--shiki-light:#6182B8;--shiki-dark:#82AAFF;"> main</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">()</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">    fset </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:=</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;"> token</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#6182B8;--shiki-dark:#82AAFF;">NewFileSet</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">()</span><span style="--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic;"> // positions are relative to fset</span></span>
<span class="line"><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">    f</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">,</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;"> err </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:=</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;"> parser</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#6182B8;--shiki-dark:#82AAFF;">ParseFile</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">fset</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">,</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> &quot;&quot;</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">,</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;"> src</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">,</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> 0</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">)</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic;">    if</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;"> err </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">!=</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> nil</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#6182B8;--shiki-dark:#82AAFF;">        panic</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">err</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">)</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic;">    // Print the AST.</span></span>
<span class="line"><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">    ast</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#6182B8;--shiki-dark:#82AAFF;">Print</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">fset</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">,</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;"> f</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">)</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">}</span></span></code></pre></div><ul><li>fset 是文件字符集用于定位 ast.Node 的文件位置</li><li>parser.ParserFile 的第二参数为文件名，第三参数为字符串，前者是待解析的文件路径，后者为待解析的字符串。前者优先级高于后者。第四参数为解析模式(可以使用”|“来结合多种解析模式)</li></ul><p>运行结果如下</p><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes material-theme-lighter material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">     0</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  *</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">ast</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">File </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">{</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">     1</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  Package</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> 2</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">1</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">     2</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  Name</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> *</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">ast</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">Ident </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">{</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">     3</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  NamePos</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> 2</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">9</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">     4</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  Name</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">main</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">     5</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  }</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">     6</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  Decls</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> []</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">ast</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">Decl </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">len </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> 2</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">)</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">     7</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">  0</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> *</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">ast</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">GenDecl </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">{</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">     8</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  TokPos</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> 4</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">1</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">     9</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  Tok</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic;"> import</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    10</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  Lparen</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> -</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    11</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  Specs</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> []</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">ast</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">Spec </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">len </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> 1</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">)</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    12</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">  0</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> *</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">ast</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">ImportSpec </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">{</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    13</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  Path</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> *</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">ast</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">BasicLit </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">{</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    14</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  ValuePos</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> 4</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">8</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    15</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  Kind</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;"> STRING</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    16</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  Value</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">\\&quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">fmt</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">\\&quot;</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    17</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  }</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    18</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  EndPos</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> -</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    19</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  }</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    20</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  }</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    21</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  Rparen</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> -</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    22</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  }</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    23</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">  1</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> *</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">ast</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">FuncDecl </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">{</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    24</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  Name</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> *</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">ast</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">Ident </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">{</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    25</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  NamePos</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> 6</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">6</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    26</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  Name</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">main</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    27</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  Obj</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> *</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">ast</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">Object </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">{</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    28</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  Kind</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> func</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    29</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  Name</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">main</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    30</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  Decl</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> *(</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">obj @ </span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">23</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">)</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    31</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  }</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    32</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  }</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    33</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  Type</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> *</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">ast</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">FuncType </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">{</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    34</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  Func</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> 6</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">1</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    35</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  Params</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> *</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">ast</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">FieldList </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">{</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    36</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  Opening</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> 6</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">10</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    37</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  Closing</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> 6</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">11</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    38</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  }</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    39</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  }</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    40</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  Body</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> *</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">ast</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">BlockStmt </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">{</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    41</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  Lbrace</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> 6</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">13</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    42</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  List</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> []</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">ast</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">Stmt </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">len </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> 1</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">)</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    43</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">  0</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> *</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">ast</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">ExprStmt </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">{</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    44</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  X</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> *</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">ast</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">CallExpr </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">{</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    45</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  Fun</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> *</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">ast</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">SelectorExpr </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">{</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    46</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  X</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> *</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">ast</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">Ident </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">{</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    47</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  NamePos</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> 7</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">5</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    48</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  Name</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">fmt</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    49</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  }</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    50</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  Sel</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> *</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">ast</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">Ident </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">{</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    51</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  NamePos</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> 7</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">9</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    52</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  Name</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">Println</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    53</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  }</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    54</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  }</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    55</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  Lparen</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> 7</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">16</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    56</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  Args</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> []</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">ast</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">Expr </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">len </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> 1</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">)</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    57</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">  0</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> *</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">ast</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">BasicLit </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">{</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    58</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  ValuePos</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> 7</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">17</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    59</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  Kind</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;"> STRING</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    60</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  Value</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">\\&quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">Hello World!</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">\\&quot;</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    61</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  }</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    62</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  }</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    63</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  Ellipsis</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> -</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    64</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  Rparen</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> 7</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">31</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    65</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  }</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    66</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  }</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    67</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  }</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    68</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  Rbrace</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> 8</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">1</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    69</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  }</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    70</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  }</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    71</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  }</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    72</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  Scope</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> *</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">ast</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">Scope </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">{</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    74</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  Objects</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> map[</span><span style="--shiki-light:#9C3EDA;--shiki-dark:#C792EA;">string</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">]*</span><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">ast</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">Object</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> (</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">len </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> 1</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">)</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    74</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  &quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">main</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> *(</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">obj @ </span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">27</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">)</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    75</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  }</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    76</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  }</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    77</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  Imports</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> []*</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">ast</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">ImportSpec </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">len </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> 1</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">)</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    78</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">  0</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> *(</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">obj @ </span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">12</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">)</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    79</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  }</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    80</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  Unresolved</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> []*</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">ast</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">Ident </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">len </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> 1</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">)</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    81</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">  0</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> *(</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">obj @ </span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">46</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">)</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    82</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  }</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">    83</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  }</span></span></code></pre></div><h2 id="ast-file-内容" tabindex="-1">ast.File 内容 <a class="header-anchor" href="#ast-file-内容" aria-label="Permalink to &quot;ast.File 内容&quot;">​</a></h2><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes material-theme-lighter material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">type</span><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;"> File</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> struct</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">	Doc        </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">*</span><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">CommentGroup</span><span style="--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic;">   // associated documentation; or nil</span></span>
<span class="line"><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">	Package    </span><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">token</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">Pos</span><span style="--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic;">       // position of &quot;package&quot; keyword</span></span>
<span class="line"><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">	Name       </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">*</span><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">Ident</span><span style="--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic;">          // package name</span></span>
<span class="line"><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">	Decls      </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">[]</span><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">Decl</span><span style="--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic;">          // top-level declarations; or nil</span></span>
<span class="line"><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">	Scope      </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">*</span><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">Scope</span><span style="--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic;">          // package scope (this file only)</span></span>
<span class="line"><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">	Imports    </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">[]*</span><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">ImportSpec</span><span style="--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic;">   // imports in this file</span></span>
<span class="line"><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">	Unresolved </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">[]*</span><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">Ident</span><span style="--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic;">        // unresolved identifiers in this file</span></span>
<span class="line"><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">	Comments   </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">[]*</span><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">CommentGroup</span><span style="--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic;"> // list of all comments in the source file</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">}</span></span></code></pre></div><p>其中 Decls 成员表示的就是文件中的顶级声明。接下来我们主要是关注它的内容。</p><h3 id="包声明" tabindex="-1">包声明 <a class="header-anchor" href="#包声明" aria-label="Permalink to &quot;包声明&quot;">​</a></h3><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes material-theme-lighter material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  Package</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> 2</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">1</span></span>
<span class="line"><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  Name</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> *</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">ast</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">Ident </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">{</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  NamePos</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> 2</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">9</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  Name</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">main</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  }</span></span></code></pre></div><p>对应文件中的 “package main”语句，记录了语句的位置以及包名(main)字符串的位置信息。</p><h3 id="引入声明" tabindex="-1">引入声明 <a class="header-anchor" href="#引入声明" aria-label="Permalink to &quot;引入声明&quot;">​</a></h3><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes material-theme-lighter material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">	0</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> *</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">ast</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">GenDecl </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">{</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  TokPos</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> 4</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">1</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  Tok</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic;"> import</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  Lparen</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> -</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  Specs</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> []</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">ast</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">Spec </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">len </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> 1</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">)</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">  0</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> *</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">ast</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">ImportSpec </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">{</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  Path</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> *</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">ast</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">BasicLit </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">{</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  ValuePos</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> 4</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">8</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  Kind</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;"> STRING</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  Value</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">\\&quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">fmt</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">\\&quot;</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  }</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  EndPos</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> -</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  }</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  }</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  Rparen</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> -</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> }</span></span></code></pre></div><p>在 ast.GenDecl 中记录了 import 语句的位置信息。Specs 为一个 ast.Spec 的数组，记录了每一个 import 的包名及位置信息。</p><h3 id="函数声明" tabindex="-1">函数声明 <a class="header-anchor" href="#函数声明" aria-label="Permalink to &quot;函数声明&quot;">​</a></h3><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes material-theme-lighter material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">	*</span><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">ast</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">FuncDecl</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">{</span></span>
<span class="line"><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">		Name</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:*</span><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">ast</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">Index</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">{...}</span></span>
<span class="line"><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">		Type</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:*</span><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">ast</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">FuncType</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">{</span></span>
<span class="line"><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">			Params</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:*</span><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">ast</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">FieldList</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">{...}</span></span>
<span class="line"><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">			Results</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> *</span><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">ast</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">FieldList</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">{...}</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">		},</span></span>
<span class="line"><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">		Body</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:*</span><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">ast</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">BlockStmt</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">{...}</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">	}</span></span></code></pre></div><ul><li>ast.FuncDecl 标明定义的是一个函数。</li><li>Name 记录函数名</li><li>Type 是函数类型,其中 Params 表示参数信息，这里为空；Results 表示返回值信息，这里也为空。</li><li>Body 则为函数体信息。</li></ul><h3 id="表达式" tabindex="-1">表达式 <a class="header-anchor" href="#表达式" aria-label="Permalink to &quot;表达式&quot;">​</a></h3><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes material-theme-lighter material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">List</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> []</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">ast</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">Stmt </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">len </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> 1</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">)</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">  0</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> *</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">ast</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">ExprStmt </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">{</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  X</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> *</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">ast</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">CallExpr </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">{</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  Fun</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> *</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">ast</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">SelectorExpr </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">{</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  X</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> *</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">ast</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">Ident </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">{</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  NamePos</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> 7</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">5</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  Name</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">fmt</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  }</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  Sel</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> *</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">ast</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">Ident </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">{</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  NamePos</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> 7</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">9</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  Name</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">Println</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  }</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  }</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  Lparen</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> 7</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">16</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  Args</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> []</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">ast</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">Expr </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">len </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> 1</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">  0</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> *</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">ast</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">BasicLit </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">{</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  ValuePos</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> 7</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">17</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  Kind</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;"> STRING</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  .</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  Value</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">\\&quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">Hello Wor</span></span>
<span class="line"><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">.  .  .  .  }</span></span>
<span class="line"><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">.  .  .  }</span></span>
<span class="line"><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">.  .  .  Ellipsis: -</span></span>
<span class="line"><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">.  .  .  Rparen: 7:31</span></span>
<span class="line"><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">.  .  }</span></span>
<span class="line"><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">.  }</span></span>
<span class="line"><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">}</span></span>
<span class="line"><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">Rbrace: 8:1</span></span></code></pre></div><p>函数体中的表达式描述了函数的内容，例子中的 fmt.Println(“hello world”)。</p><p>ast.CallExpr 表示函数调用，其中 SelectorExpr 描述了调用函数的包名及函数名，Args 则描述了参数信息。</p><h2 id="遍历-ast-树" tabindex="-1">遍历 AST 树 <a class="header-anchor" href="#遍历-ast-树" aria-label="Permalink to &quot;遍历 AST 树&quot;">​</a></h2><p>ast 库提供了可以深度优先遍历 AST 的方法：func Inspect(node Node, f func(Node) bool)。 其中 node 为根节点，f 为处理节点的方法。</p><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes material-theme-lighter material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">ast</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#6182B8;--shiki-dark:#82AAFF;">Inspect</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">f</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">,</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> func(</span><span style="--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-dark:#BABED8;--shiki-dark-font-style:italic;">n</span><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;"> ast</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">Node</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">)</span><span style="--shiki-light:#9C3EDA;--shiki-dark:#C792EA;"> bool</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">		var</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;"> s </span><span style="--shiki-light:#9C3EDA;--shiki-dark:#C792EA;">string</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic;">		switch</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;"> x </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:=</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;"> n</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.(type)</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic;">		case</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> *</span><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">ast</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">BasicLit</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span></span>
<span class="line"><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">			s </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;"> x</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">Value</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic;">		case</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> *</span><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">ast</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">Ident</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span></span>
<span class="line"><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">			s </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;"> x</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">Name</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">		}</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic;">		if</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;"> s </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">!=</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> &quot;&quot;</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">			fmt</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#6182B8;--shiki-dark:#82AAFF;">Printf</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#E53935;--shiki-dark:#F07178;">%s</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">:</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">\\t</span><span style="--shiki-light:#E53935;--shiki-dark:#F07178;">%s</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">\\n</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">,</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;"> fset</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#6182B8;--shiki-dark:#82AAFF;">Position</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">n</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#6182B8;--shiki-dark:#82AAFF;">Pos</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">()),</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;"> s</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">)</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">		}</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic;">		return</span><span style="--shiki-light:#FF5370;--shiki-dark:#FF9CAC;"> true</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">	})</span></span></code></pre></div><p>此函数遍历 f(ast.File)节点打印所有的标识符和文字。</p><p>更多相关类型，可以通过命令</p><p>go doc ast |grep &quot;^type .* struct&quot;</p><p>查看。</p><h2 id="进阶使用" tabindex="-1">进阶使用 <a class="header-anchor" href="#进阶使用" aria-label="Permalink to &quot;进阶使用&quot;">​</a></h2><p>利用 AST 对 go 文件进行分析，我们可以实现代码的自动生成，其中包括以下几个常见使用领域：</p><ol><li>代码注入: wire 使用 AST 实现构造函数代码生成。</li><li>DeepCopy: 结合 AST 生成结构体的深拷贝函数代码</li><li>对象赋值: 在领域编程中，常常需要在不同的领域对象中进行数据转换，利用 AST 的解析结果，可以自动生成指定领域对象间的转换函数文件。</li></ol><h2 id="小结" tabindex="-1">小结 <a class="header-anchor" href="#小结" aria-label="Permalink to &quot;小结&quot;">​</a></h2><p>抽象语法树的生成属于程序编译流程中的一员，利用 AST 及其相关库提供到方法，我们可以很方便的解析一个 go 文件，把文件内容结构化，以便做进一步的分析和使用。AST 广泛应用于代码自动生成的功能中，例如</p><p>go generate</p><p>命令，wire 工具等等。其中不少企业也会在开源库中，使用 Comment 的特殊格式，来自定义框架代码的自动生成命令。</p>`,35))])}const C=k(F,[["render",e]]);export{E as __pageData,C as default};
