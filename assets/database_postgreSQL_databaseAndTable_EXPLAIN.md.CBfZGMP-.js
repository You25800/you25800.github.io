import{_ as i,c as a,o as h,b3 as n}from"./chunks/framework.CatkIGlB.js";const g=JSON.parse('{"title":"在 PostgreSQL 中使用 EXPLAIN 查看语句的执行计划","description":"","frontmatter":{},"headers":[],"relativePath":"database/postgreSQL/databaseAndTable/EXPLAIN.md","filePath":"database/postgreSQL/databaseAndTable/EXPLAIN.md","lastUpdated":1690289709000}'),l={name:"database/postgreSQL/databaseAndTable/EXPLAIN.md"};function t(k,s,p,e,d,D){return h(),a("div",null,[...s[0]||(s[0]=[n(`<h1 id="在-postgresql-中使用-explain-查看语句的执行计划" tabindex="-1">在 PostgreSQL 中使用 EXPLAIN 查看语句的执行计划 <a class="header-anchor" href="#在-postgresql-中使用-explain-查看语句的执行计划" aria-label="Permalink to &quot;在 PostgreSQL 中使用 EXPLAIN 查看语句的执行计划&quot;">​</a></h1><p>本文介绍了在 PostgreSQL 中 EXPLAIN 语句的用法。</p><p>在 PostgreSQL 中，您可以使用 <code>EXPLAIN</code> 语句显示 PostgreSQL 规划器为指定语句生成的执行计划，以确定该语句是否是一个高效的语句。</p><h2 id="postgresql-explain-语法" tabindex="-1">PostgreSQL <code>EXPLAIN</code> 语法 <a class="header-anchor" href="#postgresql-explain-语法" aria-label="Permalink to &quot;PostgreSQL \`EXPLAIN\` 语法&quot;">​</a></h2><p>以下是 <code>EXPLAIN</code> 语句的语法：</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes material-theme-lighter material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">EXPLAIN [ ( option [, ...] ) ] </span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">statement</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">;</span></span></code></pre></div><p>其中 <code>option</code> 可以是以下之一：</p><ul><li><p><code>ANALYZE [ boolean ]</code>: 执行该命令并显示实际运行时间和其他统计信息。</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes material-theme-lighter material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">EXPLAIN ANALYZE</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">SELECT</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> *</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> FROM</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> address</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">WHERE</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;"> postal_code </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> &#39;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">x</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&#39;</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">;</span></span></code></pre></div><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes material-theme-lighter material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">                                                            QUERY</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> PLAN</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">-------------------------------------------------------------------------------------------------------------------------------------</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">Index</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> Scan</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> using</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> address_postal_code_idx</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> on</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> address</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  (cost=0.28..8.29 </span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">rows=</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">1</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> width=</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">161</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">) (</span><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">actual</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> time=43.589..43.590</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> rows=</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">0</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> loops=</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">1</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">)</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">Index</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> Cond:</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;"> ((postal_code)::text = </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&#39;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">x</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&#39;</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">::text)</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">Planning</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> Time:</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> 0.396</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> ms</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">Execution</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> Time:</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> 43.612</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> ms</span></span></code></pre></div></li><li><p><code>VERBOSE [ boolean ]</code>: 显示有关计划的其他信息。</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes material-theme-lighter material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">EXPLAIN </span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">VERBOSE</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">SELECT</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> *</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> FROM</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> address</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">WHERE</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;"> postal_code </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> &#39;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">x</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&#39;</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">;</span></span></code></pre></div><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes material-theme-lighter material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">                                        QUERY</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> PLAN</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">------------------------------------------------------------------------------------------------</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">Index</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> Scan</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> using</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> address_postal_code_idx</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> on</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> public.address</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  (cost=0.28..8.29 </span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">rows=</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">1</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> width=</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">161</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">)</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">Output:</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> address_id,</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> address,</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> address2,</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> district,</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> city_id,</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> postal_code,</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> phone,</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> last_update</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">Index</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> Cond:</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;"> ((address.postal_code)::text = </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&#39;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">x</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&#39;</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">::text)</span></span></code></pre></div></li><li><p><code>COSTS [ boolean ]</code>: 包括有关每个计划节点的估计启动和总成本的信息，以及估计的行数和每行的估计宽度。</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes material-theme-lighter material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">EXPLAIN (COSTS)</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">SELECT</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> *</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> FROM</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> address</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">WHERE</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;"> postal_code </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> &#39;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">x</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&#39;</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">;</span></span></code></pre></div><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes material-theme-lighter material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">                                    QUERY</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> PLAN</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">-----------------------------------------------------------------------------------------</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">Index</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> Scan</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> using</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> address_postal_code_idx</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> on</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> address</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  (cost=0.28..8.29 </span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">rows=</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">1</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> width=</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">161</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">)</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">Index</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> Cond:</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;"> ((postal_code)::text = </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&#39;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">x</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&#39;</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">::text)</span></span></code></pre></div></li><li><p><code>SETTINGS [ boolean ]</code>: 包括有关配置参数的信息。</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes material-theme-lighter material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">EXPLAIN (SETTINGS)</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">SELECT</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> *</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> FROM</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> address</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">WHERE</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;"> postal_code </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> &#39;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">x</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&#39;</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">;</span></span></code></pre></div><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes material-theme-lighter material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">                                    QUERY</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> PLAN</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">-----------------------------------------------------------------------------------------</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">Index</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> Scan</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> using</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> address_postal_code_idx</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> on</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> address</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  (cost=0.28..8.29 </span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">rows=</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">1</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> width=</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">161</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">)</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">Index</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> Cond:</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;"> ((postal_code)::text = </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&#39;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">x</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&#39;</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">::text)</span></span></code></pre></div></li><li><p><code>BUFFERS [ boolean ]</code>: 包括有关缓冲区使用情况的信息。</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes material-theme-lighter material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">EXPLAIN (BUFFERS)</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">SELECT</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> *</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> FROM</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> address</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">WHERE</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;"> postal_code </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> &#39;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">x</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&#39;</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">;</span></span></code></pre></div><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes material-theme-lighter material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">                                    QUERY</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> PLAN</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">-----------------------------------------------------------------------------------------</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">Index</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> Scan</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> using</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> address_postal_code_idx</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> on</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> address</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  (cost=0.28..8.29 </span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">rows=</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">1</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> width=</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">161</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">)</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">Index</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> Cond:</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;"> ((postal_code)::text = </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&#39;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">x</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&#39;</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">::text)</span></span></code></pre></div></li><li><p><code>WAL [ boolean ]</code>: 包括有关 WAL 记录生成的信息。它必须和 <code>ANALYZE</code> 同时使用。</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes material-theme-lighter material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">EXPLAIN (ANALYZE, WAL)</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">SELECT</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> *</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> FROM</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> address</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">WHERE</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;"> postal_code </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> &#39;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">x</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&#39;</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">;</span></span></code></pre></div><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes material-theme-lighter material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">                                                            QUERY</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> PLAN</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">-----------------------------------------------------------------------------------------------------------------------------------</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">Index</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> Scan</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> using</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> address_postal_code_idx</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> on</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> address</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  (cost=0.28..8.29 </span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">rows=</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">1</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> width=</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">161</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">) (</span><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">actual</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> time=0.029..0.029</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> rows=</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">0</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> loops=</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">1</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">)</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">Index</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> Cond:</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;"> ((postal_code)::text = </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&#39;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">x</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&#39;</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">::text)</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">Planning</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> Time:</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> 0.131</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> ms</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">Execution</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> Time:</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> 0.043</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> ms</span></span></code></pre></div></li><li><p><code>TIMING [ boolean ]</code>: 在输出中包括实际启动时间和在每个节点中花费的时间。它必须和 <code>ANALYZE</code> 同时使用。</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes material-theme-lighter material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">EXPLAIN (ANALYZE, TIMING)</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">SELECT</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> *</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> FROM</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> address</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">WHERE</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;"> postal_code </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> &#39;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">x</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&#39;</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">;</span></span></code></pre></div><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes material-theme-lighter material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">                                                            QUERY</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> PLAN</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">-----------------------------------------------------------------------------------------------------------------------------------</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">Index</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> Scan</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> using</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> address_postal_code_idx</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> on</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> address</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  (cost=0.28..8.29 </span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">rows=</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">1</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> width=</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">161</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">) (</span><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">actual</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> time=0.018..0.018</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> rows=</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">0</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> loops=</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">1</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">)</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">Index</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> Cond:</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;"> ((postal_code)::text = </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&#39;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">x</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&#39;</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">::text)</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">Planning</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> Time:</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> 0.082</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> ms</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">Execution</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> Time:</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> 0.030</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> ms</span></span></code></pre></div></li><li><p><code>SUMMARY [ boolean ]</code>: 在查询计划之后包括摘要信息</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes material-theme-lighter material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">EXPLAIN (SUMMARY)</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">SELECT</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> *</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> FROM</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> address</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">WHERE</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;"> postal_code </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> &#39;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">x</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&#39;</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">;</span></span></code></pre></div><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes material-theme-lighter material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">                                    QUERY</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> PLAN</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">-----------------------------------------------------------------------------------------</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">Index</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> Scan</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> using</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> address_postal_code_idx</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> on</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> address</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">  (cost=0.28..8.29 </span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">rows=</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">1</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> width=</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">161</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">)</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">Index</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> Cond:</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;"> ((postal_code)::text = </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&#39;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">x</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&#39;</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">::text)</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">Planning</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> Time:</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> 0.096</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> ms</span></span></code></pre></div></li><li><p><code>FORMAT { TEXT | XML | JSON | YAML }</code>: 指定输出格式，可以是文本、XML、JSON 或 YAML。</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes material-theme-lighter material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">EXPLAIN (FORMAT YAML)</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">SELECT</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> *</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> FROM</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> address</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">WHERE</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;"> postal_code </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> &#39;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">x</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&#39;</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">;</span></span></code></pre></div><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes material-theme-lighter material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">                    QUERY</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> PLAN</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">-----------------------------------------------------</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">-</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> Plan:</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">                                            +</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">    Node</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> Type:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">Index Scan</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">                        +</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">    Parallel</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> Aware:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> false</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">                          +</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">    Async</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> Capable:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> false</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">                           +</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">    Scan</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> Direction:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">Forward</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">                      +</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">    Index</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> Name:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">address_postal_code_idx</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">          +</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">    Relation</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> Name:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">address</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">                       +</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">    Alias:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">address</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">                               +</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">    Startup</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> Cost:</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> 0.28</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">                             +</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">    Total</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> Cost:</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> 8.29</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">                               +</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">    Plan</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> Rows:</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> 1</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">                                   +</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">    Plan</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> Width:</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> 161</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">                                +</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">    Index</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> Cond:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">((postal_code)::text = &#39;x&#39;::text)</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span></span></code></pre></div><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes material-theme-lighter material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">EXPLAIN (FORMAT </span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">JSON</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">)</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">SELECT</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> *</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> FROM</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> address</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">WHERE</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;"> postal_code </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> &#39;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">x</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&#39;</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">;</span></span></code></pre></div><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes material-theme-lighter material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">                       QUERY</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> PLAN</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">---------------------------------------------------------</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> [</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">                                                      +</span></span>
<span class="line"><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">   {                                                    +</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">     &quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">Plan</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">: {                                          +</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">       &quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">Node Type</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">: </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">Index Scan</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">,                       +</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">       &quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">Parallel Aware</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">: </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">false</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">,                         +</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">       &quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">Async Capable</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">: </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">false</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">,                          +</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">       &quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">Scan Direction</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">: </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">Forward</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">,                     +</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">       &quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">Index Name</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">: </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">address_postal_code_idx</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">,         +</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">       &quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">Relation Name</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">: </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">address</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">,                      +</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">       &quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">Alias</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">: </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">address</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">,                              +</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">       &quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">Startup Cost</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">: 0.28,                            +</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">       &quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">Total Cost</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">: 8.29,                              +</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">       &quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">Plan Rows</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">: 1,                                  +</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">       &quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">Plan Width</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">: 161,                               +</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">       &quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">Index Cond</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">: </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">((postal_code)::text = &#39;x&#39;::text)</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">+</span></span>
<span class="line"><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">     }                                                  +</span></span>
<span class="line"><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">   }                                                    +</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> ]</span></span></code></pre></div><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes material-theme-lighter material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">EXPLAIN (FORMAT </span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">XML</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">)</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">SELECT</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> *</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> FROM</span><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;"> address</span></span>
<span class="line"><span style="--shiki-light:#F76D47;--shiki-dark:#F78C6C;">WHERE</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;"> postal_code </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> &#39;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">x</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&#39;</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">;</span></span></code></pre></div><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes material-theme-lighter material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">                            QUERY</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> PLAN</span></span>
<span class="line"><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">------------------------------------------------------------------</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&lt;</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">explain xmlns</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">http://www.postgresql.org/2009/explain</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">        +</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  &lt;</span><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">Query</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">&gt;                                                       </span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">+</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">    &lt;</span><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">Plan</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">&gt;                                                      </span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">+</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">      &lt;</span><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">Node-Type</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">&gt;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">Index</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> Scan</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&lt;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">/Node-Typ</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">e</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">                         +</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">      &lt;</span><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">Parallel-Aware</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">&gt;</span><span style="--shiki-light:#6182B8;--shiki-dark:#82AAFF;">false</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">&lt;/Parallel-Aware&gt;                    </span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">+</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">      &lt;</span><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">Async-Capable</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">&gt;</span><span style="--shiki-light:#6182B8;--shiki-dark:#82AAFF;">false</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">&lt;/Async-Capable&gt;                      </span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">+</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">      &lt;</span><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">Scan-Direction</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">&gt;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">Forward</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">&lt;/Scan-Direction&gt;                  </span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">+</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">      &lt;</span><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">Index-Name</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">&gt;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">address_postal_code_idx</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">&lt;/Index-Name&gt;          </span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">+</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">      &lt;</span><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">Relation-Name</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">&gt;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">address</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">&lt;/Relation-Name&gt;                    </span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">+</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">      &lt;</span><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">Alias</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">&gt;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">address</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">&lt;/Alias&gt;                                    </span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">+</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">      &lt;</span><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">Startup-Cost</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">&gt;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">0.28</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">&lt;/Startup-Cost&gt;                         </span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">+</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">      &lt;</span><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">Total-Cost</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">&gt;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">8.29</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">&lt;/Total-Cost&gt;                             </span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">+</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">      &lt;</span><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">Plan-Rows</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">&gt;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">1</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">&lt;/Plan-Rows&gt;                                  </span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">+</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">      &lt;</span><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">Plan-Width</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">&gt;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">161</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">&lt;/Plan-Width&gt;                              </span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">+</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">      &lt;</span><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">Index-Cond</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">&gt;((</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">postal_code</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">)::text = </span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&#39;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">x</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&#39;</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">::text)</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&lt;</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">/Index-Cond</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">+</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">    &lt;</span><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">/Plan</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">&gt;                                                     </span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">+</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">  &lt;</span><span style="--shiki-light:#E2931D;--shiki-dark:#FFCB6B;">/Query</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">&gt;                                                      </span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">+</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&lt;</span><span style="--shiki-light:#90A4AE;--shiki-dark:#BABED8;">/explain</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&gt;</span></span></code></pre></div></li></ul><p>注意，所有选项中的 <code>boolean</code> 指定是否选择的选项应该被打开或关闭。您可以使用 <code>TRUE</code> 、 <code>ON</code> 、 或 <code>1</code> 启用该选项， 和 <code>FALSE</code> 、 <code>OFF</code> 、 或 <code>0</code> 禁用它。如果省略布尔值，则默认为 <code>TRUE</code> .</p><h2 id="结论" tabindex="-1">结论 <a class="header-anchor" href="#结论" aria-label="Permalink to &quot;结论&quot;">​</a></h2><p>在 PostgreSQL 中，您可以使用 <code>EXPLAIN</code> 语句显示 PostgreSQL 规划器为指定语句生成的执行计划。</p>`,11)])])}const B=i(l,[["render",t]]);export{g as __pageData,B as default};
